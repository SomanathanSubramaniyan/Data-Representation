<!DOCTYPE HTML>
<html itemscope itemtype="http://schema.org/Article">
<meta name="google-signin-client_id" content="488806718921-5vhe1f86a1qr84u4ir7v0fod7lq5m317.apps.googleusercontent.com">
<head>
  <!-- BEGIN Pre-requisites -->
  <script src="https://apis.google.com/js/client:platform.js?onload=start" async defer>
  </script>
  <!-- END Pre-requisites -->
  <script>
		function start() {
		  gapi.load('auth2', function() {
			auth2 = gapi.auth2.init({
			  client_id: '488806718921-5vhe1f86a1qr84u4ir7v0fod7lq5m317.apps.googleusercontent.com',
			  // Scopes to request in addition to 'profile' and 'email'
			  //scope: 'additional_scope'
			});
		  });
		}
	</script>
	
	<script type="text/javascript">
      (function() {
       var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
       po.src = 'https://apis.google.com/js/client.js?onload=onLoadCallback';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
     })();
	</script>

	<title> DataRepresentation</title>

	<script src="https://apis.google.com/js/platform.js" async defer></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> 
   
</head>

<body>
	<!-- Display the heading -->
	<div class="container">
			<div class="w-100 p-5" style="background-color: rgb(238, 238, 238);">
				<h1 align="center" style="color:rgb(38, 0, 255);"> Ireland - Road Accidents Register</h1>
			</div> 
            <br><br>
            
			<div class="g-signin2" data-onsuccess="onSignIn">
			
			<button id="signinButton" onclick="login()">Sign in with Google</button>
			
					<script>
					  $('#signinButton').click(function() {
						// signInCallback defined in step 6.
						auth2.grantOfflineAccess().then(signInCallback);
					  });
					</script>
						

           	</div>
		<!-- Display the featured functions of this website-->

			<div class="row" style="height:150px;">
				<p > This website provides below functionalities for the user
					<li style="color:rgb(255, 255, 255); text-indent: 20px;">Register Accident Details</li>
					<li style="color:white; text-indent: 20px;">Charts from Array   - Season Vs Number of Accidents</li>
					<li style="color:white; text-indent: 20px;">Chart from CSV file - County Vs Number of Accidents</li>
				</p>
				<p > Key information is taken from the RSA website. Source: <a href="http://www.rsa.ie" target="_blank" style="color:red"> Road Safty Authority </a> </p>
			</div>
	</div>
</body>

<script>

function signOut() {
    var auth2 = gapi.auth2.getAuthInstance();
    auth2.signOut().then(function () {
      console.log('User signed out.');
    });
  }

  
function login() 
{
  var myParams = {
    'clientid' : '488806718921-5vhe1f86a1qr84u4ir7v0fod7lq5m317.apps.googleusercontent.com', //You need to set client id
    'cookiepolicy' : 'single_host_origin',
    'callback' : 'loginCallback', //callback function
    'approvalprompt':'force',
    'scope' : 'https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/plus.profile.emails.read'
  };
  gapi.auth.signIn(myParams);
}

function onSignIn(googleUser) {
  var profile = googleUser.getBasicProfile();
  console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
  console.log('Name: ' + profile.getName());
  console.log('Image URL: ' + profile.getImageUrl());
  console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
}

</script>
</html>
